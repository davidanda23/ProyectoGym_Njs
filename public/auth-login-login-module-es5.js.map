{"version":3,"sources":["webpack:///src/app/auth/login/login-routing.module.ts","webpack:///src/app/auth/login/login.component.html","webpack:///src/app/auth/login/login.component.ts","webpack:///src/app/auth/login/login.module.ts"],"names":["routes","path","component","LoginRoutingModule","forChild","imports","exports","LoginComponent","authSvc","router","loginForm","email","password","bandera","setTimeout","value","login","user","checkUserIsVerified","console","log","emailVerified","navigate","onLogin","selector","templateUrl","styleUrls","LoginModule","declarations"],"mappings":"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","file":"auth-login-login-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { LoginComponent } from './login.component';\n\nconst routes: Routes = [{ path: '', component: LoginComponent }];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class LoginRoutingModule { }\n","<div class=\"spinner-border\" role=\"status\" *ngIf=\"this.bandera\">\n    <span class=\"sr-only\">Loading...</span>\n  </div>\n<div class=\"row\">\n    <div class=\"col-md-6 mx-auto mt-5\">\n        <div class=\"card\">\n            <div class=\"card-body\">\n                <h1 class=\"text-center\">LOGIN</h1>\n                <form [formGroup]=\"loginForm\" (ngSubmit)=\"onLogin()\">\n                    <div class=\"form-group\">\n                        <label for=\"email\">Email</label>\n                        <input type=\"email\" class=\"form-control\" formControlName=\"email\">\n                    </div>\n                    <div class=\"form-group\">\n                        <label for=\"password\">Password</label>\n                        <input type=\"password\" class=\"form-control\"formControlName=\"password\">\n                    </div>\n                    <button type=\"submit\" class=\"btn btn-primary btn-lg btn-block\">Login</button>\n                </form>\n                <div class=\"form-group mt-3\">\n                    <p>Create an account? <a [routerLink]=\"['/register']\">Register</a></p>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>","import { FormGroup, FormControl} from '@angular/forms';\nimport { Component, OnInit } from '@angular/core';\nimport { AuthService } from '../services/auth.service';\nimport { Router } from '@angular/router';\nimport { user } from '../../shared/models/user.interface';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.scss'],\n})\nexport class LoginComponent implements OnInit {\n  bandera:boolean;\n  loginForm= new FormGroup({\n    email: new FormControl(''),\n    password: new FormControl(''),\n  });\n  constructor(private authSvc: AuthService, private router: Router) { \n    this.bandera=true;\n    setTimeout(() => { this.bandera=false; }, 200);\n  }\n\n  ngOnInit(): void {\n  }\n  async onLogin(){\n    const {email, password} = this.loginForm.value;\n    try{\n      const user = await this.authSvc.login(email,password);\n      this.checkUserIsVerified(user);\n    }catch(error){console.log(error)}\n    this.authSvc.login(email, password);\n  }\n\n  private checkUserIsVerified(user:user){\n    if(user && user.emailVerified){\n      this.router.navigate(['/home']);\n    }else if(user){\n      this.router.navigate(['/verification-email']);\n    }else{\n      this.router.navigate(['/register']);\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { LoginRoutingModule } from './login-routing.module';\nimport { LoginComponent } from './login.component';\nimport { ReactiveFormsModule } from '@angular/forms';\n\n\n@NgModule({\n  declarations: [LoginComponent],\n  imports: [\n    CommonModule,\n    LoginRoutingModule,\n    ReactiveFormsModule\n  ]\n})\nexport class LoginModule { }\n"]}